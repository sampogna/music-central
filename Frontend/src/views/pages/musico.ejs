<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <%- include('../partials/head'); %>
    </head>
    <body>
        <title>Músicos</title>
        <%- include('../partials/header'); %>
        <div class="container-fluid">
            <div class="row justify-content-center mt-3">
                <div class="col-12">
                    <div class="container p-3 body-page" style="height: 100%">
                        <div class="row" style="padding: 1%;";>
                            <button id="add" type="button" class="btn btn-success"><i class="fas fa-plus text-light">&nbsp;Adicionar novo usuário</i></button>
                        </div>
                        <hr>
                        <% if(data){%>
                            
                                <table class="table table-hover  table-dark" id="tabela">
                                    <thead class="thead-dark">
                                        <th scope="col" class="text-light text-center">#</th>
                                        <th scope="col" class="text-light text-center">Nome</th>
                                        <th scope="col" class="text-light text-center">Email</th>
                                        <th scope="col" class="text-light text-center">Senha</th>
                                        <th scope="col" class="text-light text-center">Login</th>
                                        <th scope="col" class="text-light text-center">Data de Nascimento</th>
                                        <th scope="col" class="text-light text-center">Descrição</th>
                                        <th scope="col" class="text-light text-center">Telefone</th>
                                        <th scope="col" class="text-light text-center">Endereço</th>
                                        <th scope="col" class="text-light text-center">Redes Sociais</th>
                                        <th scope="col" class="text-light text-center">Estilos</th>
                                        <th scope="col" class="text-light text-center">Instrumentos</th>
                                        <th scope="col" class="text-light text-center">Opções</th>
                                    </thead>
                                    <tbody id="list">
                                        <% for( let index = 0; index < data.length; index++ ) { 
                                            %>
                                            <tr>
                                                <td class="text-light text-center"><%= data[index].Id ? data[index].Id : "-" %> </td>
                                                <td class="text-light text-center"><%= data[index].Nome ? data[index].Nome : "-" %></td>
                                                <td class="text-light text-center"><%= data[index].Email ? data[index].Email : "-" %></td>
                                                <td class="text-light text-center"><%= data[index].Senha ? data[index].Senha : "-" %></td>
                                                <td class="text-light text-center"><%= data[index].Login ? data[index].Login : "-" %></td>
                                                <td class="text-light text-center"><%= data[index].DataNascimento ? data[index].DataNascimento : "-" %></td>
                                                <td class="text-light text-center"><%= data[index].Descricao ? data[index].Descricao : "-" %></td>
                                                <td class="text-light text-center"><%= data[index].Telefone ? data[index].Telefone : "-" %></td>
                                                <td class="text-light text-center"><%= data[index].Endereço ? data[index].Endereço : "-" %></td>
                                                <td class="text-light text-center"><% if(data[index].RedesSociais){ %>
                                                    <button type='button' value="<%= JSON.stringify(data[index].RedesSociais)%>" class='btn btn-primary modal-redes-sociais'> <i class="fas fa-eye"></i> </button>
                                                <%}
                                                else{%>
                                                    -
                                                <%}%></td>
                                                <td class="text-light text-center"><% if(data[index].Estilos != null){ %>
                                                    <button type='button' value="<%= JSON.stringify(data[index].Estilos)%>" class='btn btn-primary modal-estilos'> <i class="fas fa-eye"></i> </button>
                                                <%}
                                                else{%>
                                                    -
                                                <%}%></td>
                                                <td class="text-light text-center"><% if(data[index].Instrumentos != null){ %>
                                                    <button type='button' value="<%= JSON.stringify(data[index].Instrumentos)%>" class='btn btn-primary modal-instrumentos'> <i class="fas fa-eye"></i> </button>
                                                <%}
                                                else{%>
                                                    -
                                                <%}%></td>
                                                
                                                <td class="text-center"> 
                                                    <i onclick="editRegister($(this).closest('td').closest('tr'))" class="text-warning fas fa-pencil-alt"></i>
                                                    &nbsp;&nbsp;&nbsp;
                                                    <i onclick="deleteRegister($(this).closest('td').closest('tr'))" class="text-danger fas fa-trash-alt"></i>
                                                </td>
                                            </tr>
                                        <% } %>

                                    </tbody>
                                </table>
                            
                        <%} 
                        else{ %>
                            <div class="alert alert-primary" role="alert">
                                <h4 class="alert-heading">Ainda não há usuários cadastrados nessa categoria <i class="far fa-frown-open"></i>.</h4>
                                <p>Adicione um clicando no botão abaixo ou no acima.</p>
                                <hr>
                                <button id="add2" type="button" class="btn btn-success"><i class="fas fa-plus text-light">&nbsp;Adicionar novo usuário</i></button>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>
        <%- include('../partials/scripts'); %>
    </body>
</html>